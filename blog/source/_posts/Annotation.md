---
title: Java Annotation
date: 2017-12-31 18:21:25
metaAlignment: center
clearReading: true

keywords:
  - Java
  - Annotation

tags: 
  - Java
  - Annotation
---

자바 어노테이션을 통해 코드에 메타데이터를 주입하자
<!-- excerpt -->

# 자바 어노테이션 (Java Annotation)

---

## 어노테이션이란?

{% asset_img "annotation.png" %}

Annotation 이란 주석이다. 

그러나 프로그래밍 언어에서 사용되는 어노테이션은 조금 다른 의미인데, 다음을 보자.

> 자바 애너테이션(Java Annotation)은 자바 소스 코드에 추가하여 사용할 수 있는 메타데이터의 일종이다. 보통 @ 기호를 앞에 붙여서 사용한다. JDK 1.5 버전 이상에서 사용 가능하다. 자바 애너테이션은 클래스 파일에 임베디드되어 컴파일러에 의해 생성된 후 자바 가상머신에 포함되어 작동한다. - 위키백과 (https://ko.wikipedia.org/wiki/자바_애너테이션) 

-
위키에서는 자바 어노테이션이 **메타데이터**의 일종이라고 표현하고 있다.

> 메타데이터(metadata)는 데이터(data)에 대한 데이터이다. 이렇게 흔히들 간단히 정의하지만 엄격하게는, Karen Coyle에 의하면 "어떤 목적을 가지고 만들어진 데이터 (Constructed data with a purpose)"라고도 정의한다. - 위키백과 (https://ko.wikipedia.org/wiki/메타데이터)

-
즉, 메타데이터는 **데이터에 대한 데이터**이고이다.

따라서 어노테이션은 **소스 코드에 추가하여 사용할 수 있는 메타데이터** 이므로, 결국 자바 어노테이션은 **소스코드에 대한 데이터**이다. 

---

## 왜 필요한가?

소스 코드에 대한 데이터가 왜 필요할까?

코딩을 하다보면 다음과 같은 상황이 빈번하다. 

1. 특정 변수/함수가 어떤 용도인지 표시
2. 특정 변수/함수의 스코프 표시
3. 테스트를 위한 코드인지, 로깅을 위한 코드인지, 실제 로직을 위한 코드인지 구분
4. 프로그래머의 의도에 따라 표시하고 싶은 수 없이 많은 경우들 ... (보통은 주석으로 표시)

1번은 주로 이름을 통해 구분한다. 그리고 이 방법이 권장된다.
2번은 IDE와 언어의 발전으로 인해 권장되지 않는 방법이나, 여전히 수요는 존재한다. 
(변수 앞에 `_` 등으로 `private` 혹은 지역변수 범위를 표시한다거나, 하는 식으로)

3번은 엄밀하게 각 분리하는 것이 옳지만, 로그 같은 경우는 참 까다롭다. 
4번 같은 경우는 주석을 유지보수해야 하는 부담이 추가적으로 생기고, 컴파일러 혹은 IDE의 도움을 받지 못한다. 코드를 설명하는 주석은 코드에 녹여내는 것이 옳다.

그렇다면 어떻게 하는 것이 좋은가?
**코드에 정보를 입력하여** 내가 원하는 의도대로 코드를 표시해 두면 되지 않을까?


마치 다음과 같다.

1. 책갈피를 이용하여 내가 읽었던 곳까지 책에 표시하는 것 처럼 
(책에 "내가 마지막으로 읽은 곳" 이라는 메타데이터 삽입)

2. 인스타그램에 **태그를** 다는 것 처럼 
(#음식, #놀러감, #셀카, ..., 태그를 통해 게시글에 추가적인 정보 삽입)

3. 연락처에 단순히 "홍길동" 이라고 입력하기보다는, "홍길동, 30살, 프로그래머, 서울 거주" 와 같이 입력하는 것 처럼
(나이, 직업, 주소를 같이 기입하여 정보를 풍부하게)


코드에는 어떨까?

1. 오버라이딩 하려는 함수에 `@Override` 표시를 통해 함수명 오타 및 미구현 등을 사전에 방지

2. `@SuppressWarning` 코드에서 발생하는 컴파일 경고 무시

3. `@Deprecated` *이 코드는 더 이상 사용하지 마세요* 라는 정보 삽입


어노테이션을 이용하여 컴파일러에게 코드에 대한 더 많은 정보를 주고, 이를 통해 프로그래머는 형 검사, 선언 오류, 상속 관계, 매개 변수 검사 등, 더 많은 도움을 컴파일러에게서 받을 수 있다.


---


## 예시

``` java
public class Person {
  public void speak() {
    ...
  }
}

public class Man extends Person {
  @Override 
  public void speak() {  // 함수명이 spaek() 로 되어 있다면 컴파일오류
    ...
  }
}
```

``` java
public class PersonTest {
  @Test // 아래 코드는 테스트 코드
  public void testSpeak() {
    ...
  }

  @Test(timeout = 100) // 실행시간이 100ms 초과하면 테스트 실패
  public void testSpeakInTime() {
    ...
  }
}

```